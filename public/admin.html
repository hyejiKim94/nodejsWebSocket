<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/static/css/admin-style.css">
    <title>Websocket Chatting</title>
  </head>
  <body>
    <div>
        <span id="userCnt"></span>
    </div>
    <div class="title"><img alt="star" src="/static/img/star.svg" class="starImg" />管<span class="space"></span>理<span class="space"></span>者<img alt="star" src="/static/img/star.svg" class="starImg" /></div>
    <div class="line"></div>
    <div class="menuRow">
        <!-- <img alt="text" src="/static/img/prev.svg" width="40px"> -->
        <button class="adminControl" value="prevQuiz" onclick="doSome(this.value)">前の問題</button>
        <button class="adminControl" value="nextQuiz" onclick="doSome(this.value)">次の問題</button>
    </div>
    <div class="menuRow">
        <button class="adminControl" value="lock" onclick="doSome(this.value)">選択不可</button>
        <button class="adminControl" value="unlock" onclick="doSome(this.value)">選択可能</button>
    </div>
    <div class="menuRow">
        <button class="adminControl" value="countdown" onclick="doSome(this.value)">カウントダウン</button>
        <button class="adminControl" value="result" onclick="doSome(this.value)">結果集計</button>
    </div>
    <div class="menuRow">
        <button class="adminControl" value="showQuiz" onclick="doSome(this.value)">問題表示</button>
        <button class="adminControl" value="sessionClear" onclick="doSome(this.value)">SessionClear</button>
    </div>
    <script>
        // const ws = new WebSocket("ws://localhost:3001")
        const ws = new WebSocket("ws://18.183.77.192:3001");
        console.log('admin side ws check', ws);
        ws.onmessage = (data) => {
            console.log(`admin side Socket: ${data}`);
        }
        function doSome(action) {
            switch(action) {
                case 'prevQuiz':
                    ws.send('admin::prevQuiz');
                    break;
                case 'nextQuiz':
                    ws.send('admin::nextQuiz');
                    break;
                case 'lock':
                    ws.send('admin::lock');
                    break;
                case 'unlock':
                    ws.send('admin::unlock');
                    break;
                case 'countdown':
                    ws.send('admin::countdown');
                    break;
                case 'result':
                    ws.send('admin::result');
                    break;
                case 'sessionClear':
                    ws.send('admin::sessionClear');
                    break;
            }
        }
    </script>
  </body>
</html>